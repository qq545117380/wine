function topOrder4() { $.post("http://order.gjw.com/Order_Api/OrderCart", function (data) { for (var json = eval(data.Data), lin = json.length > 4 ? 4 : json.length, str = "", i = 0; lin > i; i++) { var d = i; str += '<a href="/product/item-id-' + json[d].pro_ProductID + '.htm"><img src="http://img0.gjw.com/product/' + json[d].pic + '" whith="122" height="122" original="#"><span><strong>£¤' + json[d].Price + "</strong></span></a>" } $(".shopping_poppup_tab").html(str) }) } function flycart(t, e) { topOrder4(); var o = $(".footer_iconBox").offset(), n = $('<img class="flyer" src="' + e + '"/>'), i = document.documentElement.scrollTop || document.body.scrollTop; n.fly({ start: { left: t.clientX, top: t.clientY - 5 }, end: { left: o.left, top: o.top - i + 70, width: 20, height: 30 }, onEnd: function () { n.fadeOut("slow", function () { $(this).remove() }), $(".shopping_poppup").css("display", "block") } }) } function GoCart(id, callbock) { $.post("/Ajax/Order/OrderAdd-act-AddPro.htm", { ID: id }, function (data) { var json = eval(data)[0]; "True" == json.Success ? callbock() : alert(json.Message) }) } !function (t) { t.fly = function (e, o) { var n = { version: "1.0.0", autoPlay: !0, vertex_Rtop: 20, speed: 1.2, start: {}, end: {}, onEnd: t.noop }, i = this, s = t(e); i.init = function (t) { this.setOptions(t), !!this.settings.autoPlay && this.play() }, i.setOptions = function (e) { this.settings = t.extend(!0, {}, n, e); var o = this.settings, i = o.start, a = o.end; s.css({ marginTop: "0px", marginLeft: "0px", position: "fixed" }).appendTo("body"), null != a.width && null != a.height && t.extend(!0, i, { width: s.width(), height: s.height() }); var r = Math.min(i.top, a.top) - Math.abs(i.left - a.left) / 3; r < o.vertex_Rtop && (r = Math.min(o.vertex_Rtop, Math.min(i.top, a.top))); var h = Math.sqrt(Math.pow(i.top - a.top, 2) + Math.pow(i.left - a.left, 2)), p = Math.ceil(Math.min(Math.max(Math.log(h) / .05 - 75, 30), 100) / o.speed), l = i.top == r ? 0 : -Math.sqrt((a.top - r) / (i.top - r)), d = (l * i.left - a.left) / (l - 1), c = a.left == d ? 0 : (a.top - r) / Math.pow(a.left - d, 2); t.extend(!0, o, { count: -1, steps: p, vertex_left: d, vertex_top: r, curvature: c }) }, i.play = function () { this.move() }, i.move = function () { var e = this.settings, o = e.start, n = e.count, i = e.steps, a = e.end, r = o.left + (a.left - o.left) * n / i, h = 0 == e.curvature ? o.top + (a.top - o.top) * n / i : e.curvature * Math.pow(r - e.vertex_left, 2) + e.vertex_top; if (null != a.width && null != a.height) { var p = i / 2, l = a.width - (a.width - o.width) * Math.cos(p > n ? 0 : (n - p) / (i - p) * Math.PI / 2), d = a.height - (a.height - o.height) * Math.cos(p > n ? 0 : (n - p) / (i - p) * Math.PI / 2); s.css({ width: l + "px", height: d + "px", "font-size": Math.min(l, d) + "px" }) } s.css({ left: r + "px", top: h + "px" }), e.count++; var c = window.requestAnimationFrame(t.proxy(this.move, this)); n == i && (window.cancelAnimationFrame(c), e.onEnd.apply(this)) }, i.destory = function () { s.remove() }, i.init(o) }, t.fn.fly = function (e) { return this.each(function () { void 0 == t(this).data("fly") && t(this).data("fly", new t.fly(this, e)) }) } }(jQuery);

/*¹ºÎï³µµ¯´°¹Ø±Õ*/
function shopclose(){
    $('.shopping_poppup_onoff').click(function () {

        $(this).parent().css('display', 'none');

    })
}